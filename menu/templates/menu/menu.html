{% extends 'base.html' %} 
{% block content %}
<section class="container-fluid">
  <div class="row">
    <div id="menu" class="col-md-12 bg-img-container">
      <div class="cover-text">
        <h2>Back to the Refreshments</h2>
        <h3>Little Energy Boosters while you're gaming</h3>
      </div>
    </div>
  </div>
</section>
<section class="description">
  <div>
    <div>
      <h2 class="subtitle">Refreshments</h2>
      <p>
        We have an in-house canteen that offers a selection of tasty treats to
        sustain you during your gaming sessions, with vegan options available on
        request.
      </p>
    </div>
  </div>
</section>
<section id="pricing" class="container-fluid">
  <div class="row">
    <div class="col-12 colspan-8">
    <h3>Menu Overview</h3>
    {% for category in categories %}
    <h2>{{ category.name }}</h2>
    <div>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
          <th>Price</th>
        </tr>
      </thead>
      <tbody>
        {% for item in category.menuitems.all %}
        <tr>
          <td>{{ item.name }}</td>
          <td>{{ item.description|default:"N/A"|safe }}</td>
          <td>
            {% if item.options.all.count > 1 %}
              {% for option in item.options.all %}
                {{ option.size }} £{{ option.price }}<br>
              {% endfor %}
            {% else %}
              £{{ item.options.all.first.price }}
            {% endif %}
          </td>
          
        </tr>
        {% empty %}
        <tr>
          <td colspan="3">No menu items available</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  </div>
    {% empty %}
    <p>No categories available</p>
    {% endfor %}
  </div>
</section>

{% endblock content %}
