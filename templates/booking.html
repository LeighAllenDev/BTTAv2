{% extends 'base.html' %}
{% load static %}
{% url 'account_login' as login_url %}
{% url 'account_signup' as signup_url %}
{% block content %}

    <section class="container-fluid">
        <div class="row">
            <div id="booking" class="col-md-12 bg-img-container">
                <div class="cover-text">
                    <h2>Book Your Visit Now!</h2>
                    <h3>Choose the bundle that meets your needs</h3>
                </div>
            </div>
        </div>
    </section>
    
    <section class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-12">
                <h2>Booking your Visit</h2>
                <h3>Choose from our bundles,
                    select your desired food and drinks,
                    <br>then confirm your booking.
                    <br>We look forward to seeing you soon!</h3>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-8">
                {% if user.is_authenticated %}
        <form method="post" id="booking-form">
            {% csrf_token %}
            <!-- Bundle Selection -->
            <div class="form-group">
                {{ form.bundle.label_tag }} {{ form.bundle }}
            </div>

            <!-- Tokens Information -->
            <div id="tokens-info">
                Tokens Available: <span id="tokens-remaining"></span>
            </div>
    
            <!-- Food Choices Container -->
            <div class="form-group" id="food-choice-container">
                {{ form.food_choice.label_tag }} {{ form.food_choice }}
            </div>
    
            <!-- Drink Choices Container -->
            <div class="form-group" id="drink-choice-container">
                {{ form.drink_choice.label_tag }} {{ form.drink_choice }}
            </div>
    
            <!-- Date and Time -->
            <div class="form-group">
                {{ form.date.label_tag }} {{ form.date }}
                {{ form.time.label_tag }} {{ form.time }}
            </div>
    
            
    
            <button type="submit" class="btn btn-warning">Submit Booking</button>
        </form>
        {% else %}
        <p>Please <a href="{% url 'account_login' %}?next={{ request.path }}">sign in</a> or <a href="{% url 'account_signup' %}">register</a> to make a booking.</p>
        {% endif %}
            </div>
        </div>
    </section>
        

    
{% endblock %}
{% block javascript %}
    <script src="{% static 'js/booking.js' %}"></script>
{% endblock %}

